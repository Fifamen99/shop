// Ключ для localstorage
const cartKey = 'cartList';

//Масив який зберігає товари
let cart = getCart();


//Цифра кількості товарів
let cartNum = 0;


// Функція, яка буде зберігати товари
function saveCart(newCart = '')
{
	// Якщо ми не передали аргумент функції, тоді присвоюємо змінній глобальний масив cart
	newCart = (newCart) ? newCart : cart;

	// Зберігаємо додані товари
	localStorage.setItem(cartKey, JSON.stringify(cart));
}


// Функція, яка дістає дані з localStorage
function getCart()
{
	// Отримуємо дані з localStorage
	const data = JSON.parse( localStorage.getItem(cartKey) );

	// Повертаємо масив
	return (isNaN(data)) ? data : [];
}


// Перевірка на число
function isNumber(num) {
	return typeof num === 'number' && !isNaN(num);
}



/**
 * Функція виводу html коду продукту
 */
function viewProducts()
{
	//Наповнення товарами HTML
	let listItems = '';

	//Формуємо цифру тварів
	cartNum = cart.length;

	// Щось робимо коли товарів немає
	if(cartNum == 0) {

		// Ховаємо елемент цифри підрахунку товарів
		$('.js-card-button .js-order-num').addClass('hide');

		// Виводимо повідомлення про те, що товарів немає
		listItems += `<div class="product__contant">
							<ul class="product__cart">
								<li class="product__cart-list position-relative">
									<h2 class="title">У вашому кошику</h2>
									<p class="product__remove position-absolute js-product-remove">x</p>
									
								</li>
							</ul>
						</div>
					<li class="no-result">
						<img src="img/empty-cart.png" alt="" class="no-result__img">
						<h3	class="no-result__title">Корзина пуста</h3>
					</li>`;
	} else {

		// Якщо елемент цифри прихований показуємо цей елемент
		$('.js-card-button .js-order-num').removeClass('hide');

		listItems += `<div class="product__contant">
							<ul class="product__cart">
								<li class="product__cart-list position-relative">
									<h2 class="title">У вашому кошику</h2>
									<p class="product__remove position-absolute js-cart-toggle-show">x</p>
									
								</li>
							</ul>
						</div>`



		//Перебераються товари
		$.each(cart, function(index, product) {

			//Наповнюємо списком товарам
			listItems += `<li class="cartItem-product">
							<div class="product d-flex position-relative">
								<div class="product__img">
									<img src="img/catalog/${product.id}.jpg" alt="" class="product__img-card w-100">
								</div>
								<div class="product__info d-flex justify-content-center flex-column">
									<p class="product__info-text">${product.title}</p>
									<h2 class="product__info-title">${product.text}</h2>
									<div class="product__count d-flex">
										<div class="button-count">
											<button class="button-count__btn button-count__btn-add js-cart-input-count" data-for-input="#cart-count-${index}" data-type="plus" data-product-index="${index}">+</button>
											<input type="text" min="1" class="button-count__input js-set-count" value="${product.count}" id="cart-count-${index}" />
											<button class="button-count__btn button-count__btn-minus js-cart-input-count" data-for-input="#cart-count-${index}" data-type="minus" data-product-index="${index}">-</button>
										</div>
										<div class="product__price">
											<p class="product__price-info">${product.priceSumm}</p>
										</div>
									</div>
								</div>
								<p class="cartItem-product__remove d-flex justify-content-center align-items-center position-absolute js-cart-remove" data-premove-id="${index}">x</p>
							</div>
						</li>`;

					
		});
		

		listItems += `<div class="general__sum d-flex justify-content-between">
							<div class="general__sum-text">
								<span class="total-text">Разом:</span>
							</div>
							<div class="general__sum-price">
								<span class="total-price js-total-price">0</span>
							</div>
						</div>
					<a href="cart.html" class="cart__order-btn d-block text-center">Оформити замовлення</a>`;

	}

	//Виводимо цифру в html 
	$('.js-order-num').html(cartNum);

	// Виводимо в HTML товари
	$('.js-list-products').html(listItems);

	// Підрахунок суми
	totalSum();
}

// Вивід товарів 
viewProducts();



// Показуємо або приховуємо корзину
$(document).on("click", ".js-cart-toggle-show", function() {
	$(".js-list-products").toggleClass('hide');
});


$(document).on("click", ".js-card-add", function() {
	// Витягуємо елемент по якому був клік
	const card = $(this);
 
	// Інформація про товар
	const product = card.data();
 
	// Знаходимо індекс товару в кошику за його ID
	const index = cart.findIndex(item => item.id === product.id);
 
	if (index >= 0) {
	  // Якщо товар вже є в кошику, збільшуємо його кількість
	  cart[index].count += 1;
	} else {
	  // Якщо товару немає в кошику, додаємо його
	  cart.push(product);
	}
 
	// Зберігаємо товар
	saveCart();
 
	// Виводимо в HTML товари
	viewProducts();	
 });
 



/**
 * Кнопка видаленя товару
 */
$(document).on( "click", ".js-cart-remove", function()
{
	// Витягуємо елемент кнопкі видалення товару
	const el = $(this);

	// Витягуємо ключ масиву
	const removeId = el.data('premoveId');

	// Видаляємо товар
	cart.splice(removeId, 1);

	// Зберігаємо товар
	saveCart();

	// Виводимо в HTML товари
	viewProducts();
});





/**
 * Слідкуємо за зміною кількості товарів
 */
$(".js-set-count").change(function()
{
	// Витягуємо елемент кнопкі видалення товару
	const input = $(this);

	// Витягуємо значення кількості з поля
	let inputValue = Number(input.val());
	
	// Перевіряємо чи значення є цифрою
	if(!isNumber(inputValue)) {
		inputValue = 1;
		input.val(inputValue);
	}

	// Отримуємо ключик масиву
	const key = input.data('countId');

	// Клонуємо наш масив, щоб потім йому оновити кість
	const cloneCart = cart;

	//Змінюємо кількість товару відносно цифри, яка прийшла з input
	cloneCart[key].count = Number(inputValue);

	// Змінювати сумму замовлення відносно кількості
	cart = cloneCart;

	// Зберігаємо товар
	saveCart(cart);
});



//Вивід загальної суми
function totalSum() {

	// Зміна для збереження загальної суми
	let sumAllProducts = 0;

	// Перебереємо всі товари в корзині
	$.each(cart, function(index, product) {
		
		// Обчислення суми товару
		let summProduct = product.count * product.price;

		// Обчислення суми всіх товарів
		sumAllProducts = sumAllProducts + summProduct;
	})

	// Вивід загальної суми в html
	$('.js-total-price').html(sumAllProducts);
}

// Вішаємо клік на кнопку добавлення кількості товарів
$(document).on('click', '.js-cart-input-count', function(event) {
	
	// Витягуємо кнопку по якому був клік
	const el = $(this);

	// Витягуємо селектор input з яким будемо працювати
	const inputId = el.data('for-input');

	// Тип кнопки
	const type = el.data('type');	

	// Отримуємо input
	let input = $(inputId);

	// Отримуємо значення input
	const intupCount = Number(input.val());
	
	// Змінна призначена для цифри кількості
	let count = 1;

	// Збільшуємо кількість або зменшуємо кількість
	if(type == 'plus'){
		count = intupCount + 1;
	} else {

		if(intupCount > 1){
			count = intupCount - 1;
		}
	}

	// Збільшуємо кількість в input
	input.val(count);

	// Індекс товару якому змінюємо кількість
	let indexProduct = el.data('product-index');

	// Зберігаємо кількість доданих товарів в корзині
	cart[indexProduct].count = count;

	// Перерахунок суми 
	totalSum();
	
	// Зберігаємо товар
	saveCart(cart);
});


//Добавляєм клас active при кліку на кнопку навігації
const menuItems = document.querySelectorAll('.js-menu__nav-link');

menuItems.forEach(item => {
  item.addEventListener('click', function() {
    // Видаляємо клас "active" з усіх елементів меню
    menuItems.forEach(item => {
      item.classList.remove('active');
    });

    // Додаємо клас "active" до натиснутого елементу меню
    this.classList.add('active');
  });
});
/**
 * Функція виводу html коду продукту на сторінці корзини
 */
function viewOrderProducts()
{
	//Наповнення товарами HTML
	let listItems = '';

	//Формуємо цифру тварів
	cartNum = cart.length;

	// Щось робимо коли товарів немає
	if(cartNum != 0) {

		//Перебераються товари
		$.each(cart, function(index, product) {
			// console.log("index", index, product);

			//Наповнюємо списком товарам
			listItems += `<div class="cartItem-order-product">
	        		<input type="hidden" name="product[0][id]" value="${index}">
	        		<input type="hidden" name="product[0][title]" value="${product.title}">
	        		<input type="hidden" name="product[0][price]" value="${product.price}">
	        		<input type="hidden" name="product[0][count]" value="${product.count}">

	        		<div class="cartItem-order-product__text">
		        		<img src="${product.img}" alt="" class="cartItem-order-product__img">
		        		<h3 class="cartItem-order-product__title">${product.title}</h3>
	        		</div>
	        		<div class="cartItem-order-product__numbers">
	        			<div class="cartItem-order-product__number">
	        				<div class="cartItem-order-product__number-label">Ціна:</div>
	        				<div class="price cartItem-order-product__number-value">${product.price}</div>
	        			</div>
	        			<div class="cartItem-order-product__number">
	        				<div class="cartItem-order-product__number-label">Кількість:</div>
	        				<div class="button-count">
							    <button class="button-count__btn button-count__btn-add js-cart-input-count" data-for-input="#cart-count-1" data-type="plus">+</button>
							    <input type="text" min="1" class="button-count__input js-set-count" value="${product.count}" id="cart-count-1" />
							    <button class="button-count__btn button-count__btn-minus js-cart-input-count" data-for-input="#cart-count-1" data-type="minus">-</button>
							</div>
	        			</div>
	        			<div class="cartItem-order-product__number">
	        				<div class="cartItem-order-product__number-label">Сума:</div>
	        				<div class="cartItem-order-product__number-value"><span id="amount" class="amount">${product.priceSumm}</span></div>
	        			</div>
	        		</div>
	        	</div>`;

		});
	}

	// Виводимо в HTML товари
	$('.js-list-order-products').html(listItems);
}

// Вивід товарів 
viewOrderProducts();
// const imgs = document.querySelectorAll('.img-select a');
// const imgBtns = [...imgs];
// let imgId = 1;

// imgBtns.forEach((imgItem) => {
//     imgItem.addEventListener('click', (event) => {
//         event.preventDefault();
//         imgId = imgItem.dataset.id;
//         slideImage();
//     });
// });

// function slideImage(){
//     const displayWidth = document.querySelector('.img-showcase img:first-child').clientWidth;

//     document.querySelector('.img-showcase').style.transform = `translateX(${- (imgId - 1) * displayWidth}px)`;
// }

// window.addEventListener('resize', slideImage);
// Функція виводу товарів у каталог
function viewCatalog(){
   fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response => response.json())
      .then(catalog => {

         catalog = catalog.slice(0, 30);

         const viewCatalog = $('.js-view-catalog');

         catalog.forEach(product => {
            
            // Заглядаємо з чого складається наш товар
            console.log(product);

            viewCatalog.append(`
               <div class="card position-relative">
                  <img class="cart__img w-100" src="img/catalog/${product.id}.jpg" alt="">
                  <div class="content w-100 position-absolute">
                     <div class="content__row">
                        <div class="details">
                           <h2 class="details__title">${product.title}</h2>
                           <p class="details__text">${product.body}</p>
                        </div>
                        <div class="price">$1100</div>
                     </div>
                     <div class="content__button">
                        <button
                           data-img="${product.id}.jpg"
                           data-title="${product.title}"
                           data-id="${product.id}"
                           data-text="!!kkjhjhkhkj)"
                           data-count="1"
                           data-price="1100"
                           data-price-summ="1100"
                           class="cart-btn w-100 js-card-add">Додати в корзину</button>
                     </div>
                  </div>
               </div>
            `)
         });
      })
}

// Викликаємо функцію для виводу товарів у каталог
if(params.page == 'page-catalog') {
   viewCatalog();
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnQuanMiLCJtZW51TmF2LmpzIiwicGFnZUNhcnQuanMiLCJwcm9kdWN0U2xpZGVyLmpzIiwidmlld0NhdGFsb2cuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25UQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQmtC70Y7RhyDQtNC70Y8gbG9jYWxzdG9yYWdlXHJcbmNvbnN0IGNhcnRLZXkgPSAnY2FydExpc3QnO1xyXG5cclxuLy/QnNCw0YHQuNCyINGP0LrQuNC5INC30LHQtdGA0ZbQs9Cw0ZQg0YLQvtCy0LDRgNC4XHJcbmxldCBjYXJ0ID0gZ2V0Q2FydCgpO1xyXG5cclxuXHJcbi8v0KbQuNGE0YDQsCDQutGW0LvRjNC60L7RgdGC0ZYg0YLQvtCy0LDRgNGW0LJcclxubGV0IGNhcnROdW0gPSAwO1xyXG5cclxuXHJcbi8vINCk0YPQvdC60YbRltGPLCDRj9C60LAg0LHRg9C00LUg0LfQsdC10YDRltCz0LDRgtC4INGC0L7QstCw0YDQuFxyXG5mdW5jdGlvbiBzYXZlQ2FydChuZXdDYXJ0ID0gJycpXHJcbntcclxuXHQvLyDQr9C60YnQviDQvNC4INC90LUg0L/QtdGA0LXQtNCw0LvQuCDQsNGA0LPRg9C80LXQvdGCINGE0YPQvdC60YbRltGXLCDRgtC+0LTRliDQv9GA0LjRgdCy0L7RjtGU0LzQviDQt9C80ZbQvdC90ZbQuSDQs9C70L7QsdCw0LvRjNC90LjQuSDQvNCw0YHQuNCyIGNhcnRcclxuXHRuZXdDYXJ0ID0gKG5ld0NhcnQpID8gbmV3Q2FydCA6IGNhcnQ7XHJcblxyXG5cdC8vINCX0LHQtdGA0ZbQs9Cw0ZTQvNC+INC00L7QtNCw0L3RliDRgtC+0LLQsNGA0LhcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjYXJ0S2V5LCBKU09OLnN0cmluZ2lmeShjYXJ0KSk7XHJcbn1cclxuXHJcblxyXG4vLyDQpNGD0L3QutGG0ZbRjywg0Y/QutCwINC00ZbRgdGC0LDRlCDQtNCw0L3RliDQtyBsb2NhbFN0b3JhZ2VcclxuZnVuY3Rpb24gZ2V0Q2FydCgpXHJcbntcclxuXHQvLyDQntGC0YDQuNC80YPRlNC80L4g0LTQsNC90ZYg0LcgbG9jYWxTdG9yYWdlXHJcblx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNhcnRLZXkpICk7XHJcblxyXG5cdC8vINCf0L7QstC10YDRgtCw0ZTQvNC+INC80LDRgdC40LJcclxuXHRyZXR1cm4gKGlzTmFOKGRhdGEpKSA/IGRhdGEgOiBbXTtcclxufVxyXG5cclxuXHJcbi8vINCf0LXRgNC10LLRltGA0LrQsCDQvdCwINGH0LjRgdC70L5cclxuZnVuY3Rpb24gaXNOdW1iZXIobnVtKSB7XHJcblx0cmV0dXJuIHR5cGVvZiBudW0gPT09ICdudW1iZXInICYmICFpc05hTihudW0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDQpNGD0L3QutGG0ZbRjyDQstC40LLQvtC00YMgaHRtbCDQutC+0LTRgyDQv9GA0L7QtNGD0LrRgtGDXHJcbiAqL1xyXG5mdW5jdGlvbiB2aWV3UHJvZHVjdHMoKVxyXG57XHJcblx0Ly/QndCw0L/QvtCy0L3QtdC90L3RjyDRgtC+0LLQsNGA0LDQvNC4IEhUTUxcclxuXHRsZXQgbGlzdEl0ZW1zID0gJyc7XHJcblxyXG5cdC8v0KTQvtGA0LzRg9GU0LzQviDRhtC40YTRgNGDINGC0LLQsNGA0ZbQslxyXG5cdGNhcnROdW0gPSBjYXJ0Lmxlbmd0aDtcclxuXHJcblx0Ly8g0KnQvtGB0Ywg0YDQvtCx0LjQvNC+INC60L7Qu9C4INGC0L7QstCw0YDRltCyINC90LXQvNCw0ZRcclxuXHRpZihjYXJ0TnVtID09IDApIHtcclxuXHJcblx0XHQvLyDQpdC+0LLQsNGU0LzQviDQtdC70LXQvNC10L3RgiDRhtC40YTRgNC4INC/0ZbQtNGA0LDRhdGD0L3QutGDINGC0L7QstCw0YDRltCyXHJcblx0XHQkKCcuanMtY2FyZC1idXR0b24gLmpzLW9yZGVyLW51bScpLmFkZENsYXNzKCdoaWRlJyk7XHJcblxyXG5cdFx0Ly8g0JLQuNCy0L7QtNC40LzQviDQv9C+0LLRltC00L7QvNC70LXQvdC90Y8g0L/RgNC+INGC0LUsINGJ0L4g0YLQvtCy0LDRgNGW0LIg0L3QtdC80LDRlFxyXG5cdFx0bGlzdEl0ZW1zICs9IGA8ZGl2IGNsYXNzPVwicHJvZHVjdF9fY29udGFudFwiPlxyXG5cdFx0XHRcdFx0XHRcdDx1bCBjbGFzcz1cInByb2R1Y3RfX2NhcnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzcz1cInByb2R1Y3RfX2NhcnQtbGlzdCBwb3NpdGlvbi1yZWxhdGl2ZVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3M9XCJ0aXRsZVwiPtCjINCy0LDRiNC+0LzRgyDQutC+0YjQuNC60YM8L2gyPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInByb2R1Y3RfX3JlbW92ZSBwb3NpdGlvbi1hYnNvbHV0ZSBqcy1wcm9kdWN0LXJlbW92ZVwiPng8L3A+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cclxuXHRcdFx0XHRcdFx0XHQ8L3VsPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxsaSBjbGFzcz1cIm5vLXJlc3VsdFwiPlxyXG5cdFx0XHRcdFx0XHQ8aW1nIHNyYz1cImltZy9lbXB0eS1jYXJ0LnBuZ1wiIGFsdD1cIlwiIGNsYXNzPVwibm8tcmVzdWx0X19pbWdcIj5cclxuXHRcdFx0XHRcdFx0PGgzXHRjbGFzcz1cIm5vLXJlc3VsdF9fdGl0bGVcIj7QmtC+0YDQt9C40L3QsCDQv9GD0YHRgtCwPC9oMz5cclxuXHRcdFx0XHRcdDwvbGk+YDtcclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdC8vINCv0LrRidC+INC10LvQtdC80LXQvdGCINGG0LjRhNGA0Lgg0L/RgNC40YXQvtCy0LDQvdC40Lkg0L/QvtC60LDQt9GD0ZTQvNC+INGG0LXQuSDQtdC70LXQvNC10L3RglxyXG5cdFx0JCgnLmpzLWNhcmQtYnV0dG9uIC5qcy1vcmRlci1udW0nKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG5cclxuXHRcdGxpc3RJdGVtcyArPSBgPGRpdiBjbGFzcz1cInByb2R1Y3RfX2NvbnRhbnRcIj5cclxuXHRcdFx0XHRcdFx0XHQ8dWwgY2xhc3M9XCJwcm9kdWN0X19jYXJ0XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3M9XCJwcm9kdWN0X19jYXJ0LWxpc3QgcG9zaXRpb24tcmVsYXRpdmVcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGVcIj7QoyDQstCw0YjQvtC80YMg0LrQvtGI0LjQutGDPC9oMj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJwcm9kdWN0X19yZW1vdmUgcG9zaXRpb24tYWJzb2x1dGUganMtY2FydC10b2dnbGUtc2hvd1wiPng8L3A+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cclxuXHRcdFx0XHRcdFx0XHQ8L3VsPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5gXHJcblxyXG5cclxuXHJcblx0XHQvL9Cf0LXRgNC10LHQtdGA0LDRjtGC0YzRgdGPINGC0L7QstCw0YDQuFxyXG5cdFx0JC5lYWNoKGNhcnQsIGZ1bmN0aW9uKGluZGV4LCBwcm9kdWN0KSB7XHJcblxyXG5cdFx0XHQvL9Cd0LDQv9C+0LLQvdGO0ZTQvNC+INGB0L/QuNGB0LrQvtC8INGC0L7QstCw0YDQsNC8XHJcblx0XHRcdGxpc3RJdGVtcyArPSBgPGxpIGNsYXNzPVwiY2FydEl0ZW0tcHJvZHVjdFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwcm9kdWN0IGQtZmxleCBwb3NpdGlvbi1yZWxhdGl2ZVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInByb2R1Y3RfX2ltZ1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cImltZy9jYXRhbG9nLyR7cHJvZHVjdC5pZH0uanBnXCIgYWx0PVwiXCIgY2xhc3M9XCJwcm9kdWN0X19pbWctY2FyZCB3LTEwMFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJvZHVjdF9faW5mbyBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBmbGV4LWNvbHVtblwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInByb2R1Y3RfX2luZm8tdGV4dFwiPiR7cHJvZHVjdC50aXRsZX08L3A+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxoMiBjbGFzcz1cInByb2R1Y3RfX2luZm8tdGl0bGVcIj4ke3Byb2R1Y3QudGV4dH08L2gyPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJvZHVjdF9fY291bnQgZC1mbGV4XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJ1dHRvbi1jb3VudFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ1dHRvbi1jb3VudF9fYnRuIGJ1dHRvbi1jb3VudF9fYnRuLWFkZCBqcy1jYXJ0LWlucHV0LWNvdW50XCIgZGF0YS1mb3ItaW5wdXQ9XCIjY2FydC1jb3VudC0ke2luZGV4fVwiIGRhdGEtdHlwZT1cInBsdXNcIiBkYXRhLXByb2R1Y3QtaW5kZXg9XCIke2luZGV4fVwiPis8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIG1pbj1cIjFcIiBjbGFzcz1cImJ1dHRvbi1jb3VudF9faW5wdXQganMtc2V0LWNvdW50XCIgdmFsdWU9XCIke3Byb2R1Y3QuY291bnR9XCIgaWQ9XCJjYXJ0LWNvdW50LSR7aW5kZXh9XCIgLz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24tY291bnRfX2J0biBidXR0b24tY291bnRfX2J0bi1taW51cyBqcy1jYXJ0LWlucHV0LWNvdW50XCIgZGF0YS1mb3ItaW5wdXQ9XCIjY2FydC1jb3VudC0ke2luZGV4fVwiIGRhdGEtdHlwZT1cIm1pbnVzXCIgZGF0YS1wcm9kdWN0LWluZGV4PVwiJHtpbmRleH1cIj4tPC9idXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInByb2R1Y3RfX3ByaWNlXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInByb2R1Y3RfX3ByaWNlLWluZm9cIj4ke3Byb2R1Y3QucHJpY2VTdW1tfTwvcD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY2FydEl0ZW0tcHJvZHVjdF9fcmVtb3ZlIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBwb3NpdGlvbi1hYnNvbHV0ZSBqcy1jYXJ0LXJlbW92ZVwiIGRhdGEtcHJlbW92ZS1pZD1cIiR7aW5kZXh9XCI+eDwvcD5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9saT5gO1xyXG5cclxuXHRcdFx0XHRcdFxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHJcblx0XHRsaXN0SXRlbXMgKz0gYDxkaXYgY2xhc3M9XCJnZW5lcmFsX19zdW0gZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImdlbmVyYWxfX3N1bS10ZXh0XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRvdGFsLXRleHRcIj7QoNCw0LfQvtC8Ojwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZ2VuZXJhbF9fc3VtLXByaWNlXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRvdGFsLXByaWNlIGpzLXRvdGFsLXByaWNlXCI+MDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8YSBocmVmPVwiY2FydC5odG1sXCIgY2xhc3M9XCJjYXJ0X19vcmRlci1idG4gZC1ibG9jayB0ZXh0LWNlbnRlclwiPtCe0YTQvtGA0LzQuNGC0Lgg0LfQsNC80L7QstC70LXQvdC90Y88L2E+YDtcclxuXHJcblx0fVxyXG5cclxuXHQvL9CS0LjQstC+0LTQuNC80L4g0YbQuNGE0YDRgyDQsiBodG1sIFxyXG5cdCQoJy5qcy1vcmRlci1udW0nKS5odG1sKGNhcnROdW0pO1xyXG5cclxuXHQvLyDQktC40LLQvtC00LjQvNC+INCyIEhUTUwg0YLQvtCy0LDRgNC4XHJcblx0JCgnLmpzLWxpc3QtcHJvZHVjdHMnKS5odG1sKGxpc3RJdGVtcyk7XHJcblxyXG5cdC8vINCf0ZbQtNGA0LDRhdGD0L3QvtC6INGB0YPQvNC4XHJcblx0dG90YWxTdW0oKTtcclxufVxyXG5cclxuLy8g0JLQuNCy0ZbQtCDRgtC+0LLQsNGA0ZbQsiBcclxudmlld1Byb2R1Y3RzKCk7XHJcblxyXG5cclxuXHJcbi8vINCf0L7QutCw0LfRg9GU0LzQviDQsNCx0L4g0L/RgNC40YXQvtCy0YPRlNC80L4g0LrQvtGA0LfQuNC90YNcclxuJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5qcy1jYXJ0LXRvZ2dsZS1zaG93XCIsIGZ1bmN0aW9uKCkge1xyXG5cdCQoXCIuanMtbGlzdC1wcm9kdWN0c1wiKS50b2dnbGVDbGFzcygnaGlkZScpO1xyXG59KTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmpzLWNhcmQtYWRkXCIsIGZ1bmN0aW9uKCkge1xyXG5cdC8vINCS0LjRgtGP0LPRg9GU0LzQviDQtdC70LXQvNC10L3RgiDQv9C+INGP0LrQvtC80YMg0LHRg9CyINC60LvRltC6XHJcblx0Y29uc3QgY2FyZCA9ICQodGhpcyk7XHJcbiBcclxuXHQvLyDQhtC90YTQvtGA0LzQsNGG0ZbRjyDQv9GA0L4g0YLQvtCy0LDRgFxyXG5cdGNvbnN0IHByb2R1Y3QgPSBjYXJkLmRhdGEoKTtcclxuIFxyXG5cdC8vINCX0L3QsNGF0L7QtNC40LzQviDRltC90LTQtdC60YEg0YLQvtCy0LDRgNGDINCyINC60L7RiNC40LrRgyDQt9CwINC50L7Qs9C+IElEXHJcblx0Y29uc3QgaW5kZXggPSBjYXJ0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQpO1xyXG4gXHJcblx0aWYgKGluZGV4ID49IDApIHtcclxuXHQgIC8vINCv0LrRidC+INGC0L7QstCw0YAg0LLQttC1INGUINCyINC60L7RiNC40LrRgywg0LfQsdGW0LvRjNGI0YPRlNC80L4g0LnQvtCz0L4g0LrRltC70YzQutGW0YHRgtGMXHJcblx0ICBjYXJ0W2luZGV4XS5jb3VudCArPSAxO1xyXG5cdH0gZWxzZSB7XHJcblx0ICAvLyDQr9C60YnQviDRgtC+0LLQsNGA0YMg0L3QtdC80LDRlCDQsiDQutC+0YjQuNC60YMsINC00L7QtNCw0ZTQvNC+INC50L7Qs9C+XHJcblx0ICBjYXJ0LnB1c2gocHJvZHVjdCk7XHJcblx0fVxyXG4gXHJcblx0Ly8g0JfQsdC10YDRltCz0LDRlNC80L4g0YLQvtCy0LDRgFxyXG5cdHNhdmVDYXJ0KCk7XHJcbiBcclxuXHQvLyDQktC40LLQvtC00LjQvNC+INCyIEhUTUwg0YLQvtCy0LDRgNC4XHJcblx0dmlld1Byb2R1Y3RzKCk7XHRcclxuIH0pO1xyXG4gXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDQmtC90L7Qv9C60LAg0LLQuNC00LDQu9C10L3RjyDRgtC+0LLQsNGA0YNcclxuICovXHJcbiQoZG9jdW1lbnQpLm9uKCBcImNsaWNrXCIsIFwiLmpzLWNhcnQtcmVtb3ZlXCIsIGZ1bmN0aW9uKClcclxue1xyXG5cdC8vINCS0LjRgtGP0LPRg9GU0LzQviDQtdC70LXQvNC10L3RgiDQutC90L7Qv9C60ZYg0LLQuNC00LDQu9C10L3QvdGPINGC0L7QstCw0YDRg1xyXG5cdGNvbnN0IGVsID0gJCh0aGlzKTtcclxuXHJcblx0Ly8g0JLQuNGC0Y/Qs9GD0ZTQvNC+INC60LvRjtGHINC80LDRgdC40LLRg1xyXG5cdGNvbnN0IHJlbW92ZUlkID0gZWwuZGF0YSgncHJlbW92ZUlkJyk7XHJcblxyXG5cdC8vINCS0LjQtNCw0LvRj9GU0LzQviDRgtC+0LLQsNGAXHJcblx0Y2FydC5zcGxpY2UocmVtb3ZlSWQsIDEpO1xyXG5cclxuXHQvLyDQl9Cx0LXRgNGW0LPQsNGU0LzQviDRgtC+0LLQsNGAXHJcblx0c2F2ZUNhcnQoKTtcclxuXHJcblx0Ly8g0JLQuNCy0L7QtNC40LzQviDQsiBIVE1MINGC0L7QstCw0YDQuFxyXG5cdHZpZXdQcm9kdWN0cygpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICog0KHQu9GW0LTQutGD0ZTQvNC+INC30LAg0LfQvNGW0L3QvtGOINC60ZbQu9GM0LrQvtGB0YLRliDRgtC+0LLQsNGA0ZbQslxyXG4gKi9cclxuJChcIi5qcy1zZXQtY291bnRcIikuY2hhbmdlKGZ1bmN0aW9uKClcclxue1xyXG5cdC8vINCS0LjRgtGP0LPRg9GU0LzQviDQtdC70LXQvNC10L3RgiDQutC90L7Qv9C60ZYg0LLQuNC00LDQu9C10L3QvdGPINGC0L7QstCw0YDRg1xyXG5cdGNvbnN0IGlucHV0ID0gJCh0aGlzKTtcclxuXHJcblx0Ly8g0JLQuNGC0Y/Qs9GD0ZTQvNC+INC30L3QsNGH0LXQvdC90Y8g0LrRltC70YzQutC+0YHRgtGWINC3INC/0L7Qu9GPXHJcblx0bGV0IGlucHV0VmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsKCkpO1xyXG5cdFxyXG5cdC8vINCf0LXRgNC10LLRltGA0Y/RlNC80L4g0YfQuCDQt9C90LDRh9C10L3QvdGPINGUINGG0LjRhNGA0L7RjlxyXG5cdGlmKCFpc051bWJlcihpbnB1dFZhbHVlKSkge1xyXG5cdFx0aW5wdXRWYWx1ZSA9IDE7XHJcblx0XHRpbnB1dC52YWwoaW5wdXRWYWx1ZSk7XHJcblx0fVxyXG5cclxuXHQvLyDQntGC0YDQuNC80YPRlNC80L4g0LrQu9GO0YfQuNC6INC80LDRgdC40LLRg1xyXG5cdGNvbnN0IGtleSA9IGlucHV0LmRhdGEoJ2NvdW50SWQnKTtcclxuXHJcblx0Ly8g0JrQu9C+0L3Rg9GU0LzQviDQvdCw0Ygg0LzQsNGB0LjQsiwg0YnQvtCxINC/0L7RgtGW0Lwg0LnQvtC80YMg0L7QvdC+0LLQuNGC0Lgg0LrRltGB0YLRjFxyXG5cdGNvbnN0IGNsb25lQ2FydCA9IGNhcnQ7XHJcblxyXG5cdC8v0JfQvNGW0L3RjtGU0LzQviDQutGW0LvRjNC60ZbRgdGC0Ywg0YLQvtCy0LDRgNGDINCy0ZbQtNC90L7RgdC90L4g0YbQuNGE0YDQuCwg0Y/QutCwINC/0YDQuNC50YjQu9CwINC3IGlucHV0XHJcblx0Y2xvbmVDYXJ0W2tleV0uY291bnQgPSBOdW1iZXIoaW5wdXRWYWx1ZSk7XHJcblxyXG5cdC8vINCX0LzRltC90Y7QstCw0YLQuCDRgdGD0LzQvNGDINC30LDQvNC+0LLQu9C10L3QvdGPINCy0ZbQtNC90L7RgdC90L4g0LrRltC70YzQutC+0YHRgtGWXHJcblx0Y2FydCA9IGNsb25lQ2FydDtcclxuXHJcblx0Ly8g0JfQsdC10YDRltCz0LDRlNC80L4g0YLQvtCy0LDRgFxyXG5cdHNhdmVDYXJ0KGNhcnQpO1xyXG59KTtcclxuXHJcblxyXG5cclxuLy/QktC40LLRltC0INC30LDQs9Cw0LvRjNC90L7RlyDRgdGD0LzQuFxyXG5mdW5jdGlvbiB0b3RhbFN1bSgpIHtcclxuXHJcblx0Ly8g0JfQvNGW0L3QsCDQtNC70Y8g0LfQsdC10YDQtdC20LXQvdC90Y8g0LfQsNCz0LDQu9GM0L3QvtGXINGB0YPQvNC4XHJcblx0bGV0IHN1bUFsbFByb2R1Y3RzID0gMDtcclxuXHJcblx0Ly8g0J/QtdGA0LXQsdC10YDQtdGU0LzQviDQstGB0ZYg0YLQvtCy0LDRgNC4INCyINC60L7RgNC30LjQvdGWXHJcblx0JC5lYWNoKGNhcnQsIGZ1bmN0aW9uKGluZGV4LCBwcm9kdWN0KSB7XHJcblx0XHRcclxuXHRcdC8vINCe0LHRh9C40YHQu9C10L3QvdGPINGB0YPQvNC4INGC0L7QstCw0YDRg1xyXG5cdFx0bGV0IHN1bW1Qcm9kdWN0ID0gcHJvZHVjdC5jb3VudCAqIHByb2R1Y3QucHJpY2U7XHJcblxyXG5cdFx0Ly8g0J7QsdGH0LjRgdC70LXQvdC90Y8g0YHRg9C80Lgg0LLRgdGW0YUg0YLQvtCy0LDRgNGW0LJcclxuXHRcdHN1bUFsbFByb2R1Y3RzID0gc3VtQWxsUHJvZHVjdHMgKyBzdW1tUHJvZHVjdDtcclxuXHR9KVxyXG5cclxuXHQvLyDQktC40LLRltC0INC30LDQs9Cw0LvRjNC90L7RlyDRgdGD0LzQuCDQsiBodG1sXHJcblx0JCgnLmpzLXRvdGFsLXByaWNlJykuaHRtbChzdW1BbGxQcm9kdWN0cyk7XHJcbn1cclxuXHJcbi8vINCS0ZbRiNCw0ZTQvNC+INC60LvRltC6INC90LAg0LrQvdC+0L/QutGDINC00L7QsdCw0LLQu9C10L3QvdGPINC60ZbQu9GM0LrQvtGB0YLRliDRgtC+0LLQsNGA0ZbQslxyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNhcnQtaW5wdXQtY291bnQnLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFxyXG5cdC8vINCS0LjRgtGP0LPRg9GU0LzQviDQutC90L7Qv9C60YMg0L/QviDRj9C60L7QvNGDINCx0YPQsiDQutC70ZbQulxyXG5cdGNvbnN0IGVsID0gJCh0aGlzKTtcclxuXHJcblx0Ly8g0JLQuNGC0Y/Qs9GD0ZTQvNC+INGB0LXQu9C10LrRgtC+0YAgaW5wdXQg0Lcg0Y/QutC40Lwg0LHRg9C00LXQvNC+INC/0YDQsNGG0Y7QstCw0YLQuFxyXG5cdGNvbnN0IGlucHV0SWQgPSBlbC5kYXRhKCdmb3ItaW5wdXQnKTtcclxuXHJcblx0Ly8g0KLQuNC/INC60L3QvtC/0LrQuFxyXG5cdGNvbnN0IHR5cGUgPSBlbC5kYXRhKCd0eXBlJyk7XHRcclxuXHJcblx0Ly8g0J7RgtGA0LjQvNGD0ZTQvNC+IGlucHV0XHJcblx0bGV0IGlucHV0ID0gJChpbnB1dElkKTtcclxuXHJcblx0Ly8g0J7RgtGA0LjQvNGD0ZTQvNC+INC30L3QsNGH0LXQvdC90Y8gaW5wdXRcclxuXHRjb25zdCBpbnR1cENvdW50ID0gTnVtYmVyKGlucHV0LnZhbCgpKTtcclxuXHRcclxuXHQvLyDQl9C80ZbQvdC90LAg0L/RgNC40LfQvdCw0YfQtdC90LAg0LTQu9GPINGG0LjRhNGA0Lgg0LrRltC70YzQutC+0YHRgtGWXHJcblx0bGV0IGNvdW50ID0gMTtcclxuXHJcblx0Ly8g0JfQsdGW0LvRjNGI0YPRlNC80L4g0LrRltC70YzQutGW0YHRgtGMINCw0LHQviDQt9C80LXQvdGI0YPRlNC80L4g0LrRltC70YzQutGW0YHRgtGMXHJcblx0aWYodHlwZSA9PSAncGx1cycpe1xyXG5cdFx0Y291bnQgPSBpbnR1cENvdW50ICsgMTtcclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdGlmKGludHVwQ291bnQgPiAxKXtcclxuXHRcdFx0Y291bnQgPSBpbnR1cENvdW50IC0gMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vINCX0LHRltC70YzRiNGD0ZTQvNC+INC60ZbQu9GM0LrRltGB0YLRjCDQsiBpbnB1dFxyXG5cdGlucHV0LnZhbChjb3VudCk7XHJcblxyXG5cdC8vINCG0L3QtNC10LrRgSDRgtC+0LLQsNGA0YMg0Y/QutC+0LzRgyDQt9C80ZbQvdGO0ZTQvNC+INC60ZbQu9GM0LrRltGB0YLRjFxyXG5cdGxldCBpbmRleFByb2R1Y3QgPSBlbC5kYXRhKCdwcm9kdWN0LWluZGV4Jyk7XHJcblxyXG5cdC8vINCX0LHQtdGA0ZbQs9Cw0ZTQvNC+INC60ZbQu9GM0LrRltGB0YLRjCDQtNC+0LTQsNC90LjRhSDRgtC+0LLQsNGA0ZbQsiDQsiDQutC+0YDQt9C40L3RllxyXG5cdGNhcnRbaW5kZXhQcm9kdWN0XS5jb3VudCA9IGNvdW50O1xyXG5cclxuXHQvLyDQn9C10YDQtdGA0LDRhdGD0L3QvtC6INGB0YPQvNC4IFxyXG5cdHRvdGFsU3VtKCk7XHJcblx0XHJcblx0Ly8g0JfQsdC10YDRltCz0LDRlNC80L4g0YLQvtCy0LDRgFxyXG5cdHNhdmVDYXJ0KGNhcnQpO1xyXG59KTtcclxuXHJcbiIsIi8v0JTQvtCx0LDQstC70Y/RlNC8INC60LvQsNGBIGFjdGl2ZSDQv9GA0Lgg0LrQu9GW0LrRgyDQvdCwINC60L3QvtC/0LrRgyDQvdCw0LLRltCz0LDRhtGW0ZdcclxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLW1lbnVfX25hdi1saW5rJyk7XHJcblxyXG5tZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAvLyDQktC40LTQsNC70Y/RlNC80L4g0LrQu9Cw0YEgXCJhY3RpdmVcIiDQtyDRg9GB0ZbRhSDQtdC70LXQvNC10L3RgtGW0LIg0LzQtdC90Y5cclxuICAgIG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0JTQvtC00LDRlNC80L4g0LrQu9Cw0YEgXCJhY3RpdmVcIiDQtNC+INC90LDRgtC40YHQvdGD0YLQvtCz0L4g0LXQu9C10LzQtdC90YLRgyDQvNC10L3RjlxyXG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICB9KTtcclxufSk7IiwiLyoqXHJcbiAqINCk0YPQvdC60YbRltGPINCy0LjQstC+0LTRgyBodG1sINC60L7QtNGDINC/0YDQvtC00YPQutGC0YMg0L3QsCDRgdGC0L7RgNGW0L3RhtGWINC60L7RgNC30LjQvdC4XHJcbiAqL1xyXG5mdW5jdGlvbiB2aWV3T3JkZXJQcm9kdWN0cygpXHJcbntcclxuXHQvL9Cd0LDQv9C+0LLQvdC10L3QvdGPINGC0L7QstCw0YDQsNC80LggSFRNTFxyXG5cdGxldCBsaXN0SXRlbXMgPSAnJztcclxuXHJcblx0Ly/QpNC+0YDQvNGD0ZTQvNC+INGG0LjRhNGA0YMg0YLQstCw0YDRltCyXHJcblx0Y2FydE51bSA9IGNhcnQubGVuZ3RoO1xyXG5cclxuXHQvLyDQqdC+0YHRjCDRgNC+0LHQuNC80L4g0LrQvtC70Lgg0YLQvtCy0LDRgNGW0LIg0L3QtdC80LDRlFxyXG5cdGlmKGNhcnROdW0gIT0gMCkge1xyXG5cclxuXHRcdC8v0J/QtdGA0LXQsdC10YDQsNGO0YLRjNGB0Y8g0YLQvtCy0LDRgNC4XHJcblx0XHQkLmVhY2goY2FydCwgZnVuY3Rpb24oaW5kZXgsIHByb2R1Y3QpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJpbmRleFwiLCBpbmRleCwgcHJvZHVjdCk7XHJcblxyXG5cdFx0XHQvL9Cd0LDQv9C+0LLQvdGO0ZTQvNC+INGB0L/QuNGB0LrQvtC8INGC0L7QstCw0YDQsNC8XHJcblx0XHRcdGxpc3RJdGVtcyArPSBgPGRpdiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RcIj5cclxuXHQgICAgICAgIFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwcm9kdWN0WzBdW2lkXVwiIHZhbHVlPVwiJHtpbmRleH1cIj5cclxuXHQgICAgICAgIFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwcm9kdWN0WzBdW3RpdGxlXVwiIHZhbHVlPVwiJHtwcm9kdWN0LnRpdGxlfVwiPlxyXG5cdCAgICAgICAgXHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInByb2R1Y3RbMF1bcHJpY2VdXCIgdmFsdWU9XCIke3Byb2R1Y3QucHJpY2V9XCI+XHJcblx0ICAgICAgICBcdFx0PGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicHJvZHVjdFswXVtjb3VudF1cIiB2YWx1ZT1cIiR7cHJvZHVjdC5jb3VudH1cIj5cclxuXHJcblx0ICAgICAgICBcdFx0PGRpdiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RfX3RleHRcIj5cclxuXHRcdCAgICAgICAgXHRcdDxpbWcgc3JjPVwiJHtwcm9kdWN0LmltZ31cIiBhbHQ9XCJcIiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RfX2ltZ1wiPlxyXG5cdFx0ICAgICAgICBcdFx0PGgzIGNsYXNzPVwiY2FydEl0ZW0tb3JkZXItcHJvZHVjdF9fdGl0bGVcIj4ke3Byb2R1Y3QudGl0bGV9PC9oMz5cclxuXHQgICAgICAgIFx0XHQ8L2Rpdj5cclxuXHQgICAgICAgIFx0XHQ8ZGl2IGNsYXNzPVwiY2FydEl0ZW0tb3JkZXItcHJvZHVjdF9fbnVtYmVyc1wiPlxyXG5cdCAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RfX251bWJlclwiPlxyXG5cdCAgICAgICAgXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FydEl0ZW0tb3JkZXItcHJvZHVjdF9fbnVtYmVyLWxhYmVsXCI+0KbRltC90LA6PC9kaXY+XHJcblx0ICAgICAgICBcdFx0XHRcdDxkaXYgY2xhc3M9XCJwcmljZSBjYXJ0SXRlbS1vcmRlci1wcm9kdWN0X19udW1iZXItdmFsdWVcIj4ke3Byb2R1Y3QucHJpY2V9PC9kaXY+XHJcblx0ICAgICAgICBcdFx0XHQ8L2Rpdj5cclxuXHQgICAgICAgIFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJ0SXRlbS1vcmRlci1wcm9kdWN0X19udW1iZXJcIj5cclxuXHQgICAgICAgIFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RfX251bWJlci1sYWJlbFwiPtCa0ZbQu9GM0LrRltGB0YLRjDo8L2Rpdj5cclxuXHQgICAgICAgIFx0XHRcdFx0PGRpdiBjbGFzcz1cImJ1dHRvbi1jb3VudFwiPlxyXG5cdFx0XHRcdFx0XHRcdCAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLWNvdW50X19idG4gYnV0dG9uLWNvdW50X19idG4tYWRkIGpzLWNhcnQtaW5wdXQtY291bnRcIiBkYXRhLWZvci1pbnB1dD1cIiNjYXJ0LWNvdW50LTFcIiBkYXRhLXR5cGU9XCJwbHVzXCI+KzwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdCAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBtaW49XCIxXCIgY2xhc3M9XCJidXR0b24tY291bnRfX2lucHV0IGpzLXNldC1jb3VudFwiIHZhbHVlPVwiJHtwcm9kdWN0LmNvdW50fVwiIGlkPVwiY2FydC1jb3VudC0xXCIgLz5cclxuXHRcdFx0XHRcdFx0XHQgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbi1jb3VudF9fYnRuIGJ1dHRvbi1jb3VudF9fYnRuLW1pbnVzIGpzLWNhcnQtaW5wdXQtY291bnRcIiBkYXRhLWZvci1pbnB1dD1cIiNjYXJ0LWNvdW50LTFcIiBkYXRhLXR5cGU9XCJtaW51c1wiPi08L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHQgICAgICAgIFx0XHRcdDwvZGl2PlxyXG5cdCAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImNhcnRJdGVtLW9yZGVyLXByb2R1Y3RfX251bWJlclwiPlxyXG5cdCAgICAgICAgXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FydEl0ZW0tb3JkZXItcHJvZHVjdF9fbnVtYmVyLWxhYmVsXCI+0KHRg9C80LA6PC9kaXY+XHJcblx0ICAgICAgICBcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJ0SXRlbS1vcmRlci1wcm9kdWN0X19udW1iZXItdmFsdWVcIj48c3BhbiBpZD1cImFtb3VudFwiIGNsYXNzPVwiYW1vdW50XCI+JHtwcm9kdWN0LnByaWNlU3VtbX08L3NwYW4+PC9kaXY+XHJcblx0ICAgICAgICBcdFx0XHQ8L2Rpdj5cclxuXHQgICAgICAgIFx0XHQ8L2Rpdj5cclxuXHQgICAgICAgIFx0PC9kaXY+YDtcclxuXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vINCS0LjQstC+0LTQuNC80L4g0LIgSFRNTCDRgtC+0LLQsNGA0LhcclxuXHQkKCcuanMtbGlzdC1vcmRlci1wcm9kdWN0cycpLmh0bWwobGlzdEl0ZW1zKTtcclxufVxyXG5cclxuLy8g0JLQuNCy0ZbQtCDRgtC+0LLQsNGA0ZbQsiBcclxudmlld09yZGVyUHJvZHVjdHMoKTsiLCIvLyBjb25zdCBpbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltZy1zZWxlY3QgYScpO1xyXG4vLyBjb25zdCBpbWdCdG5zID0gWy4uLmltZ3NdO1xyXG4vLyBsZXQgaW1nSWQgPSAxO1xyXG5cclxuLy8gaW1nQnRucy5mb3JFYWNoKChpbWdJdGVtKSA9PiB7XHJcbi8vICAgICBpbWdJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbi8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuLy8gICAgICAgICBpbWdJZCA9IGltZ0l0ZW0uZGF0YXNldC5pZDtcclxuLy8gICAgICAgICBzbGlkZUltYWdlKCk7XHJcbi8vICAgICB9KTtcclxuLy8gfSk7XHJcblxyXG4vLyBmdW5jdGlvbiBzbGlkZUltYWdlKCl7XHJcbi8vICAgICBjb25zdCBkaXNwbGF5V2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1nLXNob3djYXNlIGltZzpmaXJzdC1jaGlsZCcpLmNsaWVudFdpZHRoO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWctc2hvd2Nhc2UnKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey0gKGltZ0lkIC0gMSkgKiBkaXNwbGF5V2lkdGh9cHgpYDtcclxuLy8gfVxyXG5cclxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNsaWRlSW1hZ2UpOyIsIi8vINCk0YPQvdC60YbRltGPINCy0LjQstC+0LTRgyDRgtC+0LLQsNGA0ZbQsiDRgyDQutCw0YLQsNC70L7Qs1xyXG5mdW5jdGlvbiB2aWV3Q2F0YWxvZygpe1xyXG4gICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJylcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAudGhlbihjYXRhbG9nID0+IHtcclxuXHJcbiAgICAgICAgIGNhdGFsb2cgPSBjYXRhbG9nLnNsaWNlKDAsIDMwKTtcclxuXHJcbiAgICAgICAgIGNvbnN0IHZpZXdDYXRhbG9nID0gJCgnLmpzLXZpZXctY2F0YWxvZycpO1xyXG5cclxuICAgICAgICAgY2F0YWxvZy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g0JfQsNCz0LvRj9C00LDRlNC80L4g0Lcg0YfQvtCz0L4g0YHQutC70LDQtNCw0ZTRgtGM0YHRjyDQvdCw0Ygg0YLQvtCy0LDRgFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0KTtcclxuXHJcbiAgICAgICAgICAgIHZpZXdDYXRhbG9nLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIHBvc2l0aW9uLXJlbGF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJjYXJ0X19pbWcgdy0xMDBcIiBzcmM9XCJpbWcvY2F0YWxvZy8ke3Byb2R1Y3QuaWR9LmpwZ1wiIGFsdD1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudCB3LTEwMCBwb3NpdGlvbi1hYnNvbHV0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudF9fcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cImRldGFpbHNfX3RpdGxlXCI+JHtwcm9kdWN0LnRpdGxlfTwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZGV0YWlsc19fdGV4dFwiPiR7cHJvZHVjdC5ib2R5fTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmljZVwiPiQxMTAwPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudF9fYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pbWc9XCIke3Byb2R1Y3QuaWR9LmpwZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGl0bGU9XCIke3Byb2R1Y3QudGl0bGV9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1pZD1cIiR7cHJvZHVjdC5pZH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRleHQ9XCIhIWtramhqaGtoa2opXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jb3VudD1cIjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXByaWNlPVwiMTEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHJpY2Utc3VtbT1cIjExMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcnQtYnRuIHctMTAwIGpzLWNhcmQtYWRkXCI+0JTQvtC00LDRgtC4INCyINC60L7RgNC30LjQvdGDPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApXHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG59XHJcblxyXG4vLyDQktC40LrQu9C40LrQsNGU0LzQviDRhNGD0L3QutGG0ZbRjiDQtNC70Y8g0LLQuNCy0L7QtNGDINGC0L7QstCw0YDRltCyINGDINC60LDRgtCw0LvQvtCzXHJcbmlmKHBhcmFtcy5wYWdlID09ICdwYWdlLWNhdGFsb2cnKSB7XHJcbiAgIHZpZXdDYXRhbG9nKCk7XHJcbn0iXX0=
